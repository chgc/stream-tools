<h2>頻道選擇</h2>
<ul>
  <li *ngFor="let event of (events$ | async)?.items">
    <button (click)="setLiveChatId(event.snippet.liveChatId, event.snippet.title)">
      get chat messages
    </button>
    {{ event.snippet.title | json }}
  </li>
</ul>
<button (click)="stop()">Stop watching chat</button>

<h2>聊天訊息</h2>
<ul>
  <li *ngFor="let message of messages$ | async; trackBy: mesageTrackByFn">
    {{ message.displayName }} - {{ message.displayMessage }}
  </li>
</ul>

<hr />
<div>
  <h2>活動抽獎</h2>
  <label>通關密語</label>
  <input type="text" #keyword/>
  <button (click)="startPrizeDraw(keyword.value)" *ngIf="!isEventStart">開始</button>
  <button (click)="stopPrizeDraw()" *ngIf="isEventStart">結束</button>
  <p>
    <span *ngIf="startTime">
      開始時間: {{ startTime | date: 'yyyy/MM/dd h:mm a' }}
    </span>
    <span *ngIf="endTime">
      ~ 結束時間: {{ endTime | date: 'yyyy/MM/dd h:mm a' }}</span>
  </p>
  <ul>
    <li *ngFor="let winner of winnerList$ | async">
      {{ winner }}
    </li>
  </ul>
  <div *ngIf="endTime">
    <input type="number" #numberOfwinners placeholder="幾位贏家" value="1" />
    <input type="text" #prizeItem placeholder="獎項" value="" />
    <button (click)="drawWinner(numberOfwinners.value, prizeItem.value)">抽獎</button>
    <h2>中獎名單</h2>
    <ul>
      <li *ngFor="let winner of winners">
        {{ winner.prize }} - {{ winner.winner }}
      </li>
    </ul>
    <button (click)="resetResult()">重新抽獎</button>
    <button (click)="saveResult()">儲存</button>
  </div>
</div>
